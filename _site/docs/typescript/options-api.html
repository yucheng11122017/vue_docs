<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 4.0.2">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="stylesheet" href="../../markbind/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../markbind/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="../../markbind/glyphicons/css/bootstrap-glyphicons.min.css">
    <link rel="stylesheet" href="../../markbind/css/octicons.css">
    <link rel="stylesheet" href="../../markbind/material-icons/material-icons.css">
    <link rel="stylesheet" href="../../markbind/css/codeblock-dark.min.css"><link rel="stylesheet" href="../../markbind/css/markbind.min.css"><script src="../../markbind/js/polyfill.min.js"></script>
    <script src="../../markbind/js/vue.min.js"></script>
    <script src="../../markbind/js/markbind.min.js"></script>
    <script src="options-api.page-vue-render.js"></script>
    <script src="../../markbind/js/jquery.min.js"></script><link rel="stylesheet" href="/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/stylesheets/main.css">
</head>
<script>
  const baseUrl = ''
</script>
<body >
<div id="app" data-server-rendered="true"><header sticky=""><div data-v-15113a2f><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-15113a2f><div class="container-fluid" data-v-15113a2f><div class="navbar-left" data-v-15113a2f></div> <div class="navbar-default" data-v-15113a2f><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-15113a2f><li class="nav-link dropdown" data-v-2e98b3f0><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle" data-v-2e98b3f0>Essentials</a> <ul class="dropdown-menu" data-v-2e98b3f0> <li data-v-2e98b3f0><a href="/docs/essentials/application.html" class="dropdown-item" data-v-2e98b3f0>Creating an Application</a></li></ul></li></ul></div> <ul class="navbar-nav navbar-right" data-v-15113a2f><li data-v-15113a2f><form class="navbar-form" data-v-15113a2f><div class="dropdown" style="position:relative;" data-v-2955e59c><input data-bs-toggle="dropdown" type="text" placeholder="Search" autocomplete="off" value="" class="form-control" data-v-2955e59c> <div class="form-control placeholder-div-hidden" data-v-2955e59c>
      Search
    </div> <ul class="dropdown-menu search-dropdown-menu d-none dropdown-menu-end" data-v-2955e59c></ul></div></form></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-15113a2f><!----> <!----></div></div></header> <div id="flex-body"><nav id="site-nav" data-v-e8c82f88><div class="site-nav-top" data-v-e8c82f88><div class="fw-bold mb-2" style="font-size:1.25rem;" data-v-e8c82f88>Template</div></div> <div class="nav-component slim-scroll" data-v-e8c82f88><div class="site-nav-root"><ul class="site-nav-list site-nav-list-root" data-v-e8c82f88><li class="site-nav-custom-list-item site-nav-list-item-0" data-v-e8c82f88>Getting Started</li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e8c82f88>Essentials 

<i onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e8c82f88><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e8c82f88></span></i></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/docs/essentials/application.html" data-v-e8c82f88>Creating an Application</a></div></li></ul></li> <li class="site-nav-custom-list-item site-nav-list-item-0" data-v-e8c82f88>Components In-Depth</li> <li class="site-nav-custom-list-item site-nav-list-item-0" data-v-e8c82f88>Reusability</li> <li class="site-nav-custom-list-item site-nav-list-item-0" data-v-e8c82f88>Built-in Components</li> <li class="site-nav-custom-list-item site-nav-list-item-0" data-v-e8c82f88>Scaling Up</li> <li class="site-nav-custom-list-item site-nav-list-item-0" data-v-e8c82f88>Best Practices</li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e8c82f88>TypeScript 

<i onclick="handleSiteNavClick(this.parentNode, false); event.stopPropagation();" class="site-nav-dropdown-btn-icon site-nav-rotate-icon" data-v-e8c82f88><span aria-hidden="true" class="glyphicon glyphicon-menu-down" data-v-e8c82f88></span></i></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list" data-v-e8c82f88><li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/docs/typescript/overview.html" data-v-e8c82f88>Overview</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/docs/typescript/composition-api.html" data-v-e8c82f88>TS with Composition API</a></div></li> <li data-v-e8c82f88><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-1" data-v-e8c82f88><a href="/docs/typescript/options-api.html" data-v-e8c82f88>TS with Options API</a></div></li></ul></li> <!----></ul> <ul class="site-nav-list site-nav-list-root" data-v-e8c82f88><li class="site-nav-custom-list-item site-nav-list-item-0" data-v-e8c82f88>Extra Topics</li> <!----></ul></div></div> <!----></nav> <div id="content-wrapper"><h1 id="typescript-with-options-api"><span id="typescript-with-options-api" class="anchor"></span>TypeScript with Options API<a href="#typescript-with-options-api" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <blockquote><p>This page assumes you've already read the overview on <a href="/docs/typescript/overview">Using Vue with TypeScript</a>.</p></blockquote>

While Vue does support TypeScript usage with Options API, it is recommended to use Vue with TypeScript via Composition API as it offers simpler, more efficient and more robust type inference.

<hr> <h2 id="typing-component-props"><span id="typing-component-props" class="anchor"></span>Typing Component Props<a href="#typing-component-props" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Type inference for props in Options API requires wrapping the component with <code class="hljs inline no-lang">defineComponent()</code>. With it, Vue is able to infer the types for the props based on the <code class="hljs inline no-lang">props</code> option, taking additional options such as <code class="hljs inline no-lang">required: true</code> and <code class="hljs inline no-lang">default</code> into account:</p> <pre><code class="hljs ts"><span><span class="hljs-keyword">import</span> { defineComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
</span><span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> defineComponent({
</span><span>  <span class="hljs-comment">// type inference enabled</span>
</span><span>  <span class="hljs-attr">props</span>: {
</span><span>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">String</span>,
</span><span>    <span class="hljs-attr">id</span>: [<span class="hljs-built_in">Number</span>, <span class="hljs-built_in">String</span>],
</span><span>    <span class="hljs-attr">msg</span>: { <span class="hljs-attr">type</span>: <span class="hljs-built_in">String</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> },
</span><span>    <span class="hljs-attr">metadata</span>: <span class="hljs-literal">null</span>
</span><span>  },
</span><span>  <span class="hljs-function"><span class="hljs-title">mounted</span>(<span class="hljs-params"></span>)</span> {
</span><span>    <span class="hljs-built_in">this</span>.name <span class="hljs-comment">// type: string | undefined</span>
</span><span>    <span class="hljs-built_in">this</span>.id <span class="hljs-comment">// type: number | string | undefined</span>
</span><span>    <span class="hljs-built_in">this</span>.msg <span class="hljs-comment">// type: string</span>
</span><span>    <span class="hljs-built_in">this</span>.metadata <span class="hljs-comment">// type: any</span>
</span><span>  }
</span><span>})
</span></code></pre><p>However, the runtime <code class="hljs inline no-lang">props</code> options only support using constructor functions as a prop's type - there is no way to specify complex types such as objects with nested properties or function call signatures.</p> <p>To annotate complex props types, we can use the <code class="hljs inline no-lang">PropType</code> utility type:</p> <pre><code class="hljs ts"><span><span class="hljs-keyword">import</span> { defineComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
</span><span><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { PropType } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
</span><span>
</span><span><span class="hljs-keyword">interface</span> Book {
</span><span>  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>
</span><span>  <span class="hljs-attr">author</span>: <span class="hljs-built_in">string</span>
</span><span>  <span class="hljs-attr">year</span>: <span class="hljs-built_in">number</span>
</span><span>}
</span><span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> defineComponent({
</span><span>  <span class="hljs-attr">props</span>: {
</span><span>    <span class="hljs-attr">book</span>: {
</span><span>      <span class="hljs-comment">// provide more specific type to `Object`</span>
</span><span>      <span class="hljs-attr">type</span>: <span class="hljs-built_in">Object</span> <span class="hljs-keyword">as</span> PropType&lt;Book&gt;,
</span><span>      required: <span class="hljs-literal">true</span>
</span><span>    },
</span><span>    <span class="hljs-comment">// can also annotate functions</span>
</span><span>    <span class="hljs-attr">callback</span>: <span class="hljs-built_in">Function</span> <span class="hljs-keyword">as</span> PropType&lt;<span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>&gt;
</span><span>  },
</span><span>  <span class="hljs-function"><span class="hljs-title">mounted</span>(<span class="hljs-params"></span>)</span> {
</span><span>    <span class="hljs-built_in">this</span>.book.title <span class="hljs-comment">// string</span>
</span><span>    <span class="hljs-built_in">this</span>.book.year <span class="hljs-comment">// number</span>
</span><span>
</span><span>    <span class="hljs-comment">// TS Error: argument of type 'string' is not</span>
</span><span>    <span class="hljs-comment">// assignable to parameter of type 'number'</span>
</span><span>    <span class="hljs-built_in">this</span>.callback?.(<span class="hljs-string">'123'</span>)
</span><span>  }
</span><span>})
</span></code></pre><h3 id="caveats"><span id="caveats" class="anchor"></span>Caveats<a href="#caveats" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>If your TypeScript version is less than <code class="hljs inline no-lang">4.7</code>, you have to be careful when using function values for <code class="hljs inline no-lang">validator</code> and <code class="hljs inline no-lang">default</code> prop options - make sure to use arrow functions:</p> <pre><code class="hljs ts"><span><span class="hljs-keyword">import</span> { defineComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
</span><span><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { PropType } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
</span><span>
</span><span><span class="hljs-keyword">interface</span> Book {
</span><span>  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>
</span><span>  year?: <span class="hljs-built_in">number</span>
</span><span>}
</span><span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> defineComponent({
</span><span>  <span class="hljs-attr">props</span>: {
</span><span>    <span class="hljs-attr">bookA</span>: {
</span><span>      <span class="hljs-attr">type</span>: <span class="hljs-built_in">Object</span> <span class="hljs-keyword">as</span> PropType&lt;Book&gt;,
</span><span>      <span class="hljs-comment">// Make sure to use arrow functions if your TypeScript version is less than 4.7</span>
</span><span>      <span class="hljs-keyword">default</span>: <span class="hljs-function">() =&gt;</span> ({
</span><span>        <span class="hljs-attr">title</span>: <span class="hljs-string">'Arrow Function Expression'</span>
</span><span>      }),
</span><span>      <span class="hljs-attr">validator</span>: <span class="hljs-function">(<span class="hljs-params">book: Book</span>) =&gt;</span> !!book.title
</span><span>    }
</span><span>  }
</span><span>})
</span></code></pre><p>This prevents TypeScript from having to infer the type of <code class="hljs inline no-lang">this</code> inside these functions, which, unfortunately, can cause the type inference to fail. It was a previous <a href="https://github.com/microsoft/TypeScript/issues/38845">design limitation</a>, and now has been improved in <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-7.html#improved-function-inference-in-objects-and-methods">TypeScript 4.7</a>.</p> <hr> <h2 id="typing-component-emits"><span id="typing-component-emits" class="anchor"></span>Typing Component Emits<a href="#typing-component-emits" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>We can declare the expected payload type for an emitted event using the object syntax of the <code class="hljs inline no-lang">emits</code> option. Also, all non-declared emitted events will throw a type error when called:</p> <pre><code class="hljs ts"><span><span class="hljs-keyword">import</span> { defineComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
</span><span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> defineComponent({
</span><span>  <span class="hljs-attr">emits</span>: {
</span><span>    <span class="hljs-function"><span class="hljs-title">addBook</span>(<span class="hljs-params">payload: { bookName: <span class="hljs-built_in">string</span> }</span>)</span> {
</span><span>      <span class="hljs-comment">// perform runtime validation</span>
</span><span>      <span class="hljs-keyword">return</span> payload.bookName.length &gt; <span class="hljs-number">0</span>
</span><span>    }
</span><span>  },
</span><span>  <span class="hljs-attr">methods</span>: {
</span><span>    <span class="hljs-function"><span class="hljs-title">onSubmit</span>(<span class="hljs-params"></span>)</span> {
</span><span>      <span class="hljs-built_in">this</span>.$emit(<span class="hljs-string">'addBook'</span>, {
</span><span>        <span class="hljs-attr">bookName</span>: <span class="hljs-number">123</span> <span class="hljs-comment">// Type error!</span>
</span><span>      })
</span><span>
</span><span>      <span class="hljs-built_in">this</span>.$emit(<span class="hljs-string">'non-declared-event'</span>) <span class="hljs-comment">// Type error!</span>
</span><span>    }
</span><span>  }
</span><span>})
</span></code></pre><hr> <h2 id="typing-computed-properties"><span id="typing-computed-properties" class="anchor"></span>Typing Computed Properties<a href="#typing-computed-properties" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>A computed property infers its type based on its return value:</p> <pre><code class="hljs ts"><span><span class="hljs-keyword">import</span> { defineComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
</span><span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> defineComponent({
</span><span>  <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> {
</span><span>    <span class="hljs-keyword">return</span> {
</span><span>      <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello!'</span>
</span><span>    }
</span><span>  },
</span><span>  <span class="hljs-attr">computed</span>: {
</span><span>    <span class="hljs-function"><span class="hljs-title">greeting</span>(<span class="hljs-params"></span>)</span> {
</span><span>      <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.message + <span class="hljs-string">'!'</span>
</span><span>    }
</span><span>  },
</span><span>  <span class="hljs-function"><span class="hljs-title">mounted</span>(<span class="hljs-params"></span>)</span> {
</span><span>    <span class="hljs-built_in">this</span>.greeting <span class="hljs-comment">// type: string</span>
</span><span>  }
</span><span>})
</span></code></pre><p>In some cases, you may want to explicitly annotate the type of a computed property to ensure its implementation is correct:</p> <pre><code class="hljs ts"><span><span class="hljs-keyword">import</span> { defineComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
</span><span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> defineComponent({
</span><span>  <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> {
</span><span>    <span class="hljs-keyword">return</span> {
</span><span>      <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello!'</span>
</span><span>    }
</span><span>  },
</span><span>  <span class="hljs-attr">computed</span>: {
</span><span>    <span class="hljs-comment">// explicitly annotate return type</span>
</span><span>    greeting(): <span class="hljs-built_in">string</span> {
</span><span>      <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.message + <span class="hljs-string">'!'</span>
</span><span>    },
</span><span>
</span><span>    <span class="hljs-comment">// annotating a writable computed property</span>
</span><span>    <span class="hljs-attr">greetingUppercased</span>: {
</span><span>      get(): <span class="hljs-built_in">string</span> {
</span><span>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.greeting.toUpperCase()
</span><span>      },
</span><span>      <span class="hljs-function"><span class="hljs-title">set</span>(<span class="hljs-params">newValue: <span class="hljs-built_in">string</span></span>)</span> {
</span><span>        <span class="hljs-built_in">this</span>.message = newValue.toUpperCase()
</span><span>      }
</span><span>    }
</span><span>  }
</span><span>})
</span></code></pre><p>Explicit annotations may also be required in some edge cases where TypeScript fails to infer the type of a computed property due to circular inference loops.</p> <hr> <h2 id="typing-event-handlers"><span id="typing-event-handlers" class="anchor"></span>Typing Event Handlers<a href="#typing-event-handlers" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>When dealing with native DOM events, it might be useful to type the argument we pass to the handler correctly. Let's take a look at this example:</p> <pre><code class="hljs"><span>&lt;script lang=&quot;ts&quot;&gt;
</span><span>import { defineComponent } from 'vue'
</span><span>
</span><span>export default defineComponent({
</span><span>  methods: {
</span><span>    handleChange(event) {
</span><span>      // `event` implicitly has `any` type
</span><span>      console.log(event.target.value)
</span><span>    }
</span><span>  }
</span><span>})
</span><span>&lt;/script&gt;
</span><span>
</span><span>&lt;template&gt;
</span><span>  &lt;input type=&quot;text&quot; @change=&quot;handleChange&quot; /&gt;
</span><span>&lt;/template&gt;
</span></code></pre><p>Without type annotation, the <code class="hljs inline no-lang">event</code> argument will implicitly have a type of <code class="hljs inline no-lang">any</code>. This will also result in a TS error if <code class="hljs inline no-lang">&quot;strict&quot;: true</code> or <code class="hljs inline no-lang">&quot;noImplicitAny&quot;: true</code> are used in <code class="hljs inline no-lang">tsconfig.json</code>. It is therefore recommended to explicitly annotate the argument of event handlers. In addition, you may need to explicitly cast properties on <code class="hljs inline no-lang">event</code>:</p> <pre><code class="hljs ts"><span><span class="hljs-keyword">import</span> { defineComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
</span><span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> defineComponent({
</span><span>  <span class="hljs-attr">methods</span>: {
</span><span>    <span class="hljs-function"><span class="hljs-title">handleChange</span>(<span class="hljs-params">event: Event</span>)</span> {
</span><span>      <span class="hljs-built_in">console</span>.log((event.target <span class="hljs-keyword">as</span> HTMLInputElement).value)
</span><span>    }
</span><span>  }
</span><span>})
</span></code></pre><hr> <h2 id="augmenting-global-properties"><span id="augmenting-global-properties" class="anchor"></span>Augmenting Global Properties<a href="#augmenting-global-properties" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Some plugins install globally available properties to all component instances via <a href="/api/application.html#app-config-globalproperties"><code class="hljs inline no-lang">app.config.globalProperties</code></a>. For example, we may install <code class="hljs inline no-lang">this.$http</code> for data-fetching or <code class="hljs inline no-lang">this.$translate</code> for internationalization. To make this play well with TypeScript, Vue exposes a <code class="hljs inline no-lang">ComponentCustomProperties</code> interface designed to be augmented via <a href="https://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation">TypeScript module augmentation</a>:</p> <pre><code class="hljs ts"><span><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>
</span><span>
</span><span><span class="hljs-keyword">declare</span> <span class="hljs-built_in">module</span> <span class="hljs-string">'vue'</span> {
</span><span>  <span class="hljs-keyword">interface</span> ComponentCustomProperties {
</span><span>    <span class="hljs-attr">$http</span>: <span class="hljs-keyword">typeof</span> axios
</span><span>    <span class="hljs-attr">$translate</span>: <span class="hljs-function">(<span class="hljs-params">key: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>
</span><span>  }
</span><span>}
</span></code></pre><p>See also:</p> <ul><li><a href="https://github.com/vuejs/core/blob/main/test-dts/componentTypeExtensions.test-d.tsx">TypeScript unit tests for component type extensions</a></li></ul> <h3 id="type-augmentation-placement"><span id="type-augmentation-placement" class="anchor"></span>Type Augmentation Placement<a href="#type-augmentation-placement" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>We can put this type augmentation in a <code class="hljs inline no-lang">.ts</code> file, or in a project-wide <code class="hljs inline no-lang">*.d.ts</code> file. Either way, make sure it is included in <code class="hljs inline no-lang">tsconfig.json</code>. For library / plugin authors, this file should be specified in the <code class="hljs inline no-lang">types</code> property in <code class="hljs inline no-lang">package.json</code>.</p> <p>In order to take advantage of module augmentation, you will need to ensure the augmentation is placed in a <a href="https://www.typescriptlang.org/docs/handbook/modules.html">TypeScript module</a>. That is to say, the file needs to contain at least one top-level <code class="hljs inline no-lang">import</code> or <code class="hljs inline no-lang">export</code>, even if it is just <code class="hljs inline no-lang">export {}</code>. If the augmentation is placed outside of a module, it will overwrite the original types rather than augmenting them!</p> <pre><code class="hljs ts"><span><span class="hljs-comment">// Does not work, overwrites the original types.</span>
</span><span><span class="hljs-keyword">declare</span> <span class="hljs-built_in">module</span> <span class="hljs-string">'vue'</span> {
</span><span>  <span class="hljs-keyword">interface</span> ComponentCustomProperties {
</span><span>    <span class="hljs-attr">$translate</span>: <span class="hljs-function">(<span class="hljs-params">key: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>
</span><span>  }
</span><span>}
</span></code></pre><pre><code class="hljs ts"><span><span class="hljs-comment">// Works correctly</span>
</span><span><span class="hljs-keyword">export</span> {}
</span><span>
</span><span><span class="hljs-keyword">declare</span> <span class="hljs-built_in">module</span> <span class="hljs-string">'vue'</span> {
</span><span>  <span class="hljs-keyword">interface</span> ComponentCustomProperties {
</span><span>    <span class="hljs-attr">$translate</span>: <span class="hljs-function">(<span class="hljs-params">key: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>
</span><span>  }
</span><span>}
</span></code></pre><hr> <h2 id="augmenting-custom-options"><span id="augmenting-custom-options" class="anchor"></span>Augmenting Custom Options<a href="#augmenting-custom-options" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Some plugins, for example <code class="hljs inline no-lang">vue-router</code>, provide support for custom component options such as <code class="hljs inline no-lang">beforeRouteEnter</code>:</p> <pre><code class="hljs ts"><span><span class="hljs-keyword">import</span> { defineComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
</span><span>
</span><span><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> defineComponent({
</span><span>  <span class="hljs-function"><span class="hljs-title">beforeRouteEnter</span>(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>)</span> {
</span><span>    <span class="hljs-comment">// ...</span>
</span><span>  }
</span><span>})
</span></code></pre><p>Without proper type augmentation, the arguments of this hook will implicitly have <code class="hljs inline no-lang">any</code> type. We can augment the <code class="hljs inline no-lang">ComponentCustomOptions</code> interface to support these custom options:</p> <pre><code class="hljs ts"><span><span class="hljs-keyword">import</span> { Route } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
</span><span>
</span><span><span class="hljs-keyword">declare</span> <span class="hljs-built_in">module</span> <span class="hljs-string">'vue'</span> {
</span><span>  <span class="hljs-keyword">interface</span> ComponentCustomOptions {
</span><span>    beforeRouteEnter?(to: Route, <span class="hljs-attr">from</span>: Route, <span class="hljs-attr">next</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span>
</span><span>  }
</span><span>}
</span></code></pre><p>Now the <code class="hljs inline no-lang">beforeRouteEnter</code> option will be properly typed. Note this is just an example - well-typed libraries like <code class="hljs inline no-lang">vue-router</code> should automatically perform these augmentations in their own type definitions.</p> <p>The placement of this augmentation is subject the <a href="#type-augmentation-placement">same restrictions</a> as global property augmentations.</p> <p>See also:</p> <ul><li><a href="https://github.com/vuejs/core/blob/main/test-dts/componentTypeExtensions.test-d.tsx">TypeScript unit tests for component type extensions</a></li></ul> <i id="scroll-top-button" onclick="handleScrollTop()" aria-hidden="true" class="fa fa-arrow-circle-up fa-lg d-print-none"></i></div> <nav id="page-nav" data-v-e8c82f88><div class="nav-component slim-scroll" data-v-e8c82f88></div> <!----></nav></div> <footer><div class="text-center"><small>[Generated by <a href="https://markbind.org/">MarkBind 4.0.2</a>]</small></div></footer></div>
</body><script src="../../markbind/js/bootstrap-utility.min.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
</html>
